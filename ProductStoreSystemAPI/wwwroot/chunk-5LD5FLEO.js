import{a as Ct}from"./chunk-752LFKQA.js";import{a as _t}from"./chunk-TZAKR4R3.js";import{$ as pt,A as k,B as A,D as B,E as $,F as O,G as z,H as J,I as K,J as Q,K as U,L as W,M as X,N as Y,O as Z,P as tt,Q as et,R as it,S as rt,T as ot,U as nt,V as at,W as mt,X as dt,Y as ct,_ as lt,aa as ut,ba as st,ca as ft,fa as P,p as g,r as j,s as q,u as L,y as G,z as p}from"./chunk-36TXZI5T.js";import{$b as N,Bb as w,Eb as v,Gb as F,Gc as R,Hc as H,Jc as V,Rb as o,Ta as a,Tb as h,Ua as E,W as _,Yb as I,Zb as x,_b as T,da as b,ea as C,ib as l,ma as D,mb as c,na as y,vb as i,wb as e,xb as u,yb as s,zb as f}from"./chunk-3SPXI7PS.js";import"./chunk-RNMDN42R.js";var S=class{name;desc;price;constructor(n,r,d){this.name=n,this.desc=r,this.price=d}};var Et=()=>["name","desc","price","actions"];function vt(t,n){t&1&&(i(0,"mat-error"),o(1,"Product name is required."),e())}function xt(t,n){t&1&&(i(0,"mat-error"),o(1,"Product name must be at least 3 characters long."),e())}function gt(t,n){t&1&&(i(0,"mat-error"),o(1,"Price is required."),e())}function Mt(t,n){t&1&&(i(0,"mat-error"),o(1,"Price must be greater than 0."),e())}function bt(t,n){t&1&&(i(0,"th",19),o(1," Name "),e())}function Dt(t,n){if(t&1&&(i(0,"td",20),o(1),e()),t&2){let r=n.$implicit;a(),h(" ",r.name," ")}}function yt(t,n){t&1&&(i(0,"th",19),o(1," Desc "),e())}function wt(t,n){if(t&1&&(i(0,"td",20),o(1),e()),t&2){let r=n.$implicit;a(),h(" ",r.desc," ")}}function Ft(t,n){t&1&&(i(0,"th",19),o(1," Price "),e())}function It(t,n){if(t&1&&(i(0,"td",20),o(1),T(2,"currency"),e()),t&2){let r=n.$implicit;a(),h(" ",N(2,1,r.price)," ")}}function Tt(t,n){t&1&&(i(0,"th",19),o(1," Delete "),e())}function Nt(t,n){if(t&1){let r=w();i(0,"td",20)(1,"button",21),v("click",function(){let m=D(r).$implicit,M=F();return y(M.deleteProduct(m.id))}),i(2,"mat-icon"),o(3,"delete"),e()()()}}function Rt(t,n){t&1&&u(0,"tr",22)}function Ht(t,n){t&1&&u(0,"tr",23)}function Vt(t,n){t&1&&(i(0,"p"),o(1,"No products available."),e())}var Pt=(()=>{class t{productService;appService;fb;productForm;products=[];newProductName="";newProductDesc="";newProductPrice=0;constructor(r,d,m){this.productService=r,this.appService=d,this.fb=m,this.loadProducts(),this.initialForm()}initialForm(){this.productForm=this.fb.group({name:["",[p.required,p.minLength(3)]],description:["",[p.required,p.minLength(3)]],price:[0,[p.required,p.min(.01)]]})}loadProducts(){this.productService.getProducts().subscribe(r=>this.products=r)}addProduct(){let r=new S(this.productForm.value.name,this.productForm.value.description,this.productForm.value.price);this.productService.addProduct(r).subscribe(()=>this.loadProducts())}deleteProduct(r){this.productService.deleteProduct(r).subscribe(()=>this.loadProducts())}static \u0275fac=function(d){return new(d||t)(E(_t),E(Ct),E(K))};static \u0275cmp=b({type:t,selectors:[["app-edit-product"]],standalone:!0,features:[I],decls:46,vars:15,consts:[["fxLayout.lt-sm","column"],["fxFlex.lt-sm","25",3,"ngClass"],["fxLayout","column",3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","formControlName","name","placeholder","Enter product name"],[4,"ngIf"],["matInput","","formControlName","description","placeholder","Enter description"],["matInput","","formControlName","price","type","number","placeholder","Enter price","min","0"],["mat-raised-button","","color","primary","type","submit",2,"width","100%","margin-top","10px",3,"disabled"],["fxFlex.lt-sm","75",3,"ngClass"],["mat-table","",2,"width","100%",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","desc"],["matColumnDef","price"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",2,"padding","0",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(d,m){d&1&&(i(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),o(4,"Add Product"),e()(),i(5,"mat-card-content")(6,"form",2),v("ngSubmit",function(){return m.addProduct()}),i(7,"mat-form-field",3)(8,"mat-label"),o(9,"Product Name"),e(),u(10,"input",4),l(11,vt,2,0,"mat-error",5)(12,xt,2,0,"mat-error",5),e(),i(13,"mat-form-field",3)(14,"mat-label"),o(15,"Description"),e(),u(16,"input",6),e(),i(17,"mat-form-field",3)(18,"mat-label"),o(19,"Price"),e(),u(20,"input",7),l(21,gt,2,0,"mat-error",5)(22,Mt,2,0,"mat-error",5),e(),i(23,"button",8),o(24,"Add Product"),e()()()(),i(25,"mat-card",9)(26,"mat-card-header")(27,"mat-card-title"),o(28,"Product List"),e()(),i(29,"mat-card-content")(30,"table",10),s(31,11),l(32,bt,2,0,"th",12)(33,Dt,2,1,"td",13),f(),s(34,14),l(35,yt,2,0,"th",12)(36,wt,2,1,"td",13),f(),s(37,15),l(38,Ft,2,0,"th",12)(39,It,3,3,"td",13),f(),s(40,16),l(41,Tt,2,0,"th",12)(42,Nt,4,0,"td",13),f(),l(43,Rt,1,0,"tr",17)(44,Ht,1,0,"tr",18),e(),l(45,Vt,2,0,"p",5),e()()()),d&2&&(a(),c("ngClass",m.appService.isMobileMode()?"":"add_product"),a(5),c("formGroup",m.productForm),a(5),c("ngIf",m.productForm.controls.name.hasError("required")),a(),c("ngIf",m.productForm.controls.name.hasError("minlength")),a(9),c("ngIf",m.productForm.controls.price.hasError("required")),a(),c("ngIf",m.productForm.controls.price.hasError("min")),a(),c("disabled",m.productForm.invalid),a(2),c("ngClass",m.appService.isMobileMode()?"":"product_list"),a(5),c("dataSource",m.products),a(13),c("matHeaderRowDef",x(13,Et))("matHeaderRowDefSticky",!0),a(),c("matRowDefColumns",x(14,Et)),a(),c("ngIf",m.products.length===0))},dependencies:[P,R,H,B,G,$,k,A,J,O,z,q,L,j,W,Y,it,Z,X,rt,tt,et,ot,nt,Q,U,at,ct,mt,dt,lt,pt,st,ft,ut,V],styles:[".product_list[_ngcontent-%COMP%]{margin-left:25%}.add_product[_ngcontent-%COMP%]{position:fixed;top:90px}"]})}return t})();var jt=[{path:"",component:Pt}],St=(()=>{class t{static \u0275fac=function(d){return new(d||t)};static \u0275mod=C({type:t});static \u0275inj=_({imports:[g.forChild(jt),g]})}return t})();var ne=(()=>{class t{static \u0275fac=function(d){return new(d||t)};static \u0275mod=C({type:t});static \u0275inj=_({imports:[P,St]})}return t})();export{ne as EditProductModule};
